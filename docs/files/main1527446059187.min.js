!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="rainbow-strips",e(e.s=1)}([function(t,n){var e=9007199254740991,r="[object Function]",o="[object GeneratorFunction]",i=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,a=parseInt,l=Object.prototype.toString,h=Math.ceil,d=Math.max;function p(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+n];return i}function v(t,n,i){if(!g(i))return!1;var u=typeof n;return!!("number"==u?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(t){var n=g(t)?l.call(t):"";return n==r||n==o}(t)}(i)&&function(t,n){return!!(n=null==n?e:n)&&("number"==typeof t||f.test(t))&&t>-1&&t%1==0&&t<n}(n,i.length):"string"==u&&n in i)&&function(t,n){return t===n||t!=t&&n!=n}(i[n],t)}function g(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}t.exports=function(t,n,e){n=(e?v(t,n,e):void 0===n)?1:d(function(t){var n=function(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(g(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=g(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var e=c.test(t);return e||s.test(t)?a(t.slice(2),e?2:8):u.test(t)?NaN:+t}(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),e=n%1;return n==n?e?n-e:n:0}(n),0);var r=t?t.length:0;if(!r||n<1)return[];for(var o=0,f=0,m=Array(h(r/n));o<r;)m[f++]=p(t,o,o+=n);return m}},function(t,n,e){"use strict";function r(t){let n;if("string"==typeof t?n=document.querySelector(t):typeof t===HTMLElement&&(n=t),!n)throw Error(`Could not find container ${t}`);return n}e.r(n);const o="mousemove",i=["mouseout","mouseleave","mouseup"],u="#0f0",c=1,s=t=>[t.offsetX,t.offsetY];const f="#ff0",a=3;function l(t,n={}){const{color:e=f,radius:r=a,stroke:o=!0}=n,i=o?"stroke":"fill";return t[`${i}Style`]=e,function(n){n.forEach(n=>{t.beginPath(),t.arc(...n,r,0,2*Math.PI),t[i]()})}}function h(t,n,e){const[r,o]=n,[i,u]=e,[c,s]=t,f=i-r,a=u-o;if(0!==f||0!==a){const t=((c-r)*f+(s-o)*a)/(f*f+a*a);return t>1?[c-i,s-u]:t>0?[c-(r+f*t),s-(o+a*t)]:[c-r,s-o]}return[c-r,s-o]}e(0);const d="#00f",p=1;function v(t,n={}){const{color:e=d,width:r=p}=n;return t.strokeStyle=e,t.lineWidth=r,function(n){let e,r,o;for(t.beginPath(),t.moveTo(...n[0]),e=0;e<n.length-1;e++)r=n[e],o=n[e+1],2===r.length?t.lineTo(...r):4===r.length?t.quadraticCurveTo(r[2],r[3],o[0],o[1]):t.bezierCurveTo(r[2],r[3],r[4],r[5],o[0],o[1]),t.stroke();2===r.length&&t.lineTo(...o),t.stroke()}}function g(t,n,e){const r=[],o=t.length;let i;if(o<=2){for(i=0;i<o;i++)r.push([...t[i]]);return r}const u=t[o-1];let[c]=t;i=0;let s=!1;for(Math.hypot(c[0]-u[0],c[1]-u[1])<Math.SQRT2&&(i=0,c=t[o-2],s=!0),r.push([...t[i]]);i<o-1;i++){const o=t[i],u=t[i+1],s=o[0]-c[0],f=o[1]-c[1],a=u[0]-o[0],l=u[1]-o[1];let h=Math.sqrt(s*s+f*f);const d=h>0?s/h:1,p=h>0?f/h:0;let v=Math.sqrt(a*a+l*l);const g=v>0?a/v:1,m=v>0?l/v:0,y=Math.abs(Math.acos(d*g+p*m));if(0!==h)if(y<3.14*n){e&&(v=h,h=Math.min(h,v));let t=(d+g)/2,n=(p+m)/2;const i=Math.sqrt(t*t+n*n);if(0===i)r.push([...o]);else{if(t/=i,n/=i,r.length>0){const e=r[r.length-1];e.push(o[0]-t*h*.25),e.push(o[1]-n*h*.25)}r.push([o[0],o[1],o[0]+t*v*.25,o[1]+n*v*.25])}}else r.push([...o]);c=o}if(s){for(c=[],i=0;i<r[0].length;i++)c.push(r[0][i]);r.push(c)}else r.push([...t[t.length-1]]);return r}e(3);const m=function(t,n){const e=function(t=[]){if(Array.isArray(t))return t.map(t=>r(t));if("string"==typeof t)return Array.from(document.querySelectorAll(t));throw Error(`Could not identify initialCanvases ${t}`)}(n),o=r(t);let i,u,c;return window.addEventListener("resize",f),f(),{add:function(t=!0){const n=document.createElement("canvas");return s(n),t?(e.push(n),o.appendChild(n)):(e.unshift(n),o.prependChild(n)),{canvas:n,ctx:n.getContext("2d")}},get:a,remove:function(t){const{canvas:n,index:r}=a(t);o.removeChild(n),e.splice(r,1)}};function s(t){t.width=i*c,t.height=u*c,t.setAttribute("width",i),t.setAttribute("height",u)}function f(){!function(){const t=o.getBoundingClientRect();i=t.width,u=t.height,c=window.devicePixelRatio}(),e.forEach(s)}function a(t){let n,r;if(t instanceof HTMLCanvasElement?(n=t,r=e.indexOf(n)):"string"==typeof t?(n=e.find(n=>n.id===t),r=e.indexOf(n)):Number.isInteger(t)&&(n=e[t],r=t),!n||!Number.isInteger(r))throw Error(`Canvas manager does not have canvas ${t}`);return{canvas:n,index:r}}}("body"),y=()=>m.add().ctx,w=function(t,n={}){const{color:e=u,width:r=c}=n;let f,a,l,h=[];function d(n){f=s(n),h.push(f),t.beginPath(),t.moveTo(...a),t.lineTo(...f),t.stroke(),a=f}function p(){window.removeEventListener(o,d),i.forEach(t=>window.removeEventListener(t,p)),l(h)}return t.strokeStyle=e,t.lineWidth=r,function(t){return new Promise(n=>{l=n,a=s(t),h=[a],window.addEventListener(o,d),i.forEach(t=>window.addEventListener(t,p))})}}(y(),{color:"#ddd",width:8}),b=l(y(),{color:"#0f0",stroke:!1,radius:8}),x=l(y(),{color:"#f00",stroke:!1,radius:4}),E=v(y(),{color:"#f0f",width:2}),M=v(y(),{color:"#00f",width:2});window.addEventListener("mousedown",async t=>{const n=await w(t),e=function(t,n){const e=[t[0]];return function r(o,i){const u=t[o],c=t[i];let s=n,f=o+1;for(let n=o+1;n<i;n++){const e=t[n],[r,o]=h(e,u,c),i=r*r+o*o;i>s&&(f=n,s=i)}s>n&&(f-o>1&&r(o,f),e.push(t[f]),i-f>1&&r(f,i))}(0,t.length-1),e.push(t[t.length-1]),e}(n,10),r=g(e,19.9,.99),o=g(n,19.9,.99);b(n),x(e),E(o),M(r)})},,function(t,n,e){}]);