/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// webpack-livereload-plugin
/******/ 	(function() {
/******/ 	  if (typeof window === "undefined") { return };
/******/ 	  var id = "webpack-livereload-plugin-script";
/******/ 	  if (document.getElementById(id)) { return; }
/******/ 	  var el = document.createElement("script");
/******/ 	  el.id = id;
/******/ 	  el.async = true;
/******/ 	  el.src = "//" + location.hostname + ":35729/livereload.js";
/******/ 	  document.getElementsByTagName("head")[0].appendChild(el);
/******/ 	}());
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/lodash.chunk/index.js":
/***/ (function(module, exports) {

eval("/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array ? array.length : 0;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = chunk;\n\n\n//# sourceURL=webpack:///./node_modules/lodash.chunk/index.js?");

/***/ }),

/***/ "./src/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/tools/index.js\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/styles.scss\");\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nconst canvasManager = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"createCanvasManager\"])('body');\r\nconst get = () => canvasManager.add().ctx;\r\n\r\nconst getPath = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"createGetPath\"])(get(), {\r\n  color: '#ddd',\r\n  width: 10\r\n});\r\n\r\nconst markPointsOriginal = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"createMarkPoints\"])(get(), {\r\n  radius: 5\r\n});\r\n\r\nconst markPointsSimplified = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"createMarkPoints\"])(get(), {\r\n  color: '#f00',\r\n  stroke: false,\r\n  radius: 3\r\n});\r\n\r\nconst smoothDraw = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"createSmoothDraw\"])(get(), {\r\n  color: '#00f',\r\n  width: 1\r\n});\r\n\r\nconst SIMPLIFY_MIN_LENGTH = 10;\r\nconst SMOOTH_MIN_LENGTH = 19.9;\r\nconst SMOOTH_ANGLE = 0.99;\r\n\r\nwindow.addEventListener('mousedown', async (ev) => {\r\n  const points = await getPath(ev);\r\n  const simplified = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"simplifyLineRDP\"])(points, SIMPLIFY_MIN_LENGTH);\r\n  const smoothed = Object(_tools__WEBPACK_IMPORTED_MODULE_0__[\"performSmooth\"])(simplified, SMOOTH_MIN_LENGTH, SMOOTH_ANGLE);\r\n\r\n  markPointsOriginal(points);\r\n  markPointsSimplified(simplified);\r\n  smoothDraw(smoothed);\r\n});\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/styles.scss":
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles.scss?");

/***/ }),

/***/ "./src/tools/createCanvasManager.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return createCanvasManager; });\nfunction getEl(id) {\r\n  let element;\r\n\r\n  if (typeof id === 'string') {\r\n    element = document.querySelector(id);\r\n  } else if (typeof id === HTMLElement) {\r\n    element = id;\r\n  }\r\n  if (!element) {\r\n    throw Error(`Could not find container ${id}`);\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nfunction getCanvases(initialCanvases = []) {\r\n  if (Array.isArray(initialCanvases)) {\r\n    return initialCanvases.map((id) => getEl(id));\r\n  }\r\n  if (typeof initialCanvases === 'string') {\r\n    return Array.from(document.querySelectorAll(initialCanvases));\r\n  }\r\n  throw Error(`Could not identify initialCanvases ${initialCanvases}`);\r\n}\r\n\r\nfunction createCanvasManager(container, initialCanvases) {\r\n  const canvases = getCanvases(initialCanvases);\r\n  const el = getEl(container);\r\n  let width;\r\n  let height;\r\n  let ratio;\r\n\r\n  window.addEventListener('resize', resize);\r\n  resize();\r\n\r\n  return {\r\n    add,\r\n    get,\r\n    remove\r\n  };\r\n\r\n  function updateDimensions() {\r\n    const rect = el.getBoundingClientRect();\r\n\r\n    width = rect.width; // eslint-disable-line prefer-destructuring\r\n    height = rect.height; // eslint-disable-line prefer-destructuring\r\n    ratio = window.devicePixelRatio;\r\n  }\r\n\r\n  function resizeCanvas(canvas) {\r\n    canvas.width = width * ratio;\r\n    canvas.height = height * ratio;\r\n    canvas.setAttribute('width', width);\r\n    canvas.setAttribute('height', height);\r\n  }\r\n\r\n  function resize() {\r\n    updateDimensions();\r\n    canvases.forEach(resizeCanvas);\r\n  }\r\n\r\n  function add(append = true) {\r\n    const canvas = document.createElement('canvas');\r\n\r\n    resizeCanvas(canvas);\r\n\r\n    if (append) {\r\n      canvases.push(canvas);\r\n      el.appendChild(canvas);\r\n    } else {\r\n      canvases.unshift(canvas);\r\n      el.prependChild(canvas);\r\n    }\r\n\r\n    return {\r\n      canvas,\r\n      ctx: canvas.getContext('2d')\r\n    };\r\n  }\r\n\r\n  function get(id) {\r\n    let canvas;\r\n    let index;\r\n\r\n    if (id instanceof HTMLCanvasElement) {\r\n      canvas = id;\r\n      index = canvases.indexOf(canvas);\r\n    } else if (typeof id === 'string') {\r\n      canvas = canvases.find((c) => c.id === id);\r\n      index = canvases.indexOf(canvas);\r\n    } else if (Number.isInteger(id)) {\r\n      canvas = canvases[id];\r\n      index = id;\r\n    }\r\n\r\n    if (!canvas || !Number.isInteger(index)) {\r\n      throw Error(`Canvas manager does not have canvas ${id}`);\r\n    }\r\n\r\n    return {\r\n      canvas,\r\n      index\r\n    };\r\n  }\r\n\r\n  function remove(id) {\r\n    const { canvas, index } = get(id);\r\n\r\n    el.removeChild(canvas);\r\n    canvases.splice(index, 1);\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/createCanvasManager.js?");

/***/ }),

/***/ "./src/tools/createDrawPixels.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return createDrawPixels; });\nfunction createDrawPixels(ctx, options = {}) {\r\n  const { width = 1, height = 1, color = '#aaa' } = options;\r\n\r\n  ctx.fillStyle = color;\r\n\r\n  return function drawPixels(points) {\r\n    points.forEach((point) => {\r\n      ctx.beginPath();\r\n      ctx.fillRect(...point, width, height);\r\n    });\r\n  };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/createDrawPixels.js?");

/***/ }),

/***/ "./src/tools/createGetPath.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return createGetPath; });\nconst APPEND_EVENT = 'mousemove';\r\nconst FINISH_EVENTS = ['mouseout', 'mouseleave', 'mouseup'];\r\nconst DEFAULT_COLOR = '#0f0';\r\nconst DEFAULT_WIDTH = 1;\r\nconst getPosition = (ev) => [ev.offsetX, ev.offsetY];\r\n\r\nfunction createGetPath(ctx, options = {}) {\r\n  const { color = DEFAULT_COLOR, width = DEFAULT_WIDTH } = options;\r\n  let linePoints = [];\r\n  let currentPos;\r\n  let previousPos;\r\n  let currentResolve;\r\n\r\n  ctx.strokeStyle = color;\r\n  ctx.lineWidth = width;\r\n\r\n  function startLine(ev) {\r\n    previousPos = getPosition(ev);\r\n    linePoints = [previousPos];\r\n  }\r\n\r\n  function appendLine(ev) {\r\n    currentPos = getPosition(ev);\r\n    linePoints.push(currentPos);\r\n    ctx.beginPath();\r\n    ctx.moveTo(...previousPos);\r\n    ctx.lineTo(...currentPos);\r\n    ctx.stroke();\r\n    previousPos = currentPos;\r\n  }\r\n\r\n  function finishLine() {\r\n    detachEvents();\r\n    currentResolve(linePoints);\r\n  }\r\n\r\n  function attachEvents() {\r\n    window.addEventListener(APPEND_EVENT, appendLine);\r\n    FINISH_EVENTS.forEach((finishEvent) => window.addEventListener(finishEvent, finishLine));\r\n  }\r\n\r\n  function detachEvents() {\r\n    window.removeEventListener(APPEND_EVENT, appendLine);\r\n    FINISH_EVENTS.forEach((finishEvent) => window.removeEventListener(finishEvent, finishLine));\r\n  }\r\n\r\n  return function getPath(startEv) {\r\n    return new Promise((resolve) => {\r\n      currentResolve = resolve;\r\n      startLine(startEv);\r\n      attachEvents();\r\n    });\r\n  };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/createGetPath.js?");

/***/ }),

/***/ "./src/tools/createMarkPoints.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return createMarkPoints; });\nconst DEFAULT_COLOR = '#ff0';\r\nconst DEFAULT_RADIUS = 3;\r\n\r\nfunction createMarkPoints(ctx, options = {}) {\r\n  const { color = DEFAULT_COLOR, radius = DEFAULT_RADIUS, stroke = true } = options;\r\n\r\n  const prop = stroke ? 'stroke' : 'fill';\r\n\r\n  ctx[`${prop}Style`] = color;\r\n\r\n  return function markPoints(points) {\r\n    points.forEach((point) => {\r\n      ctx.beginPath();\r\n      ctx.arc(...point, radius, 0, 2 * Math.PI);\r\n      ctx[prop]();\r\n    });\r\n  };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/createMarkPoints.js?");

/***/ }),

/***/ "./src/tools/curvePoints/1.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getCurvePoints; });\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/lodash.chunk/index.js\");\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var utils_clone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/utils/clone.js\");\n\r\n\r\n\r\n/* eslint-disable max-statements */\r\n/* eslint-disable no-plusplus */\r\n/* eslint-disable no-mixed-operators */\r\n/**\r\n * Calculates an array containing points representing a cardinal spline through given point array.\r\n *\r\n * @param {Array} points - (flat) point array: [x1, y1, x2, y2, ..., xn, yn]\r\n * @param {Number} [tension=0.5] - tension. Typically between [0.0, 1.0] but can be exceeded\r\n * @param {Number} [numOfSeg=25] - number of segments between two points (line resolution)\r\n * @returns {Float32Array} - the spline points.\r\n */\r\nfunction getCurvePoints(points, tension = 0.5, numOfSeg = 25) {\r\n  let i = 1;\r\n  let rPos = 0;\r\n  const count = points.length;\r\n  const res = new Float32Array(((count - 2) * numOfSeg) + 2);\r\n  const cache = new Float32Array((numOfSeg + 2) * 4);\r\n  const pts = Object(utils_clone__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(points);\r\n  let cachePointer = 4;\r\n\r\n  pts.unshift(points[1]); // copy 1. point and insert at beginning\r\n  pts.unshift(points[0]);\r\n  pts.push(points[count - 2], points[count - 1]); // duplicate end-points\r\n\r\n  // cache inner-loop calculations as they are based on t alone\r\n  cache[0] = 1; // 1,0,0,0\r\n  for (; i < numOfSeg; i++) {\r\n    const st = i / numOfSeg;\r\n    const st2 = st * st;\r\n    const st3 = st2 * st;\r\n    const st23 = st3 * 2;\r\n    const st32 = st2 * 3;\r\n\r\n    cache[cachePointer++] = st23 - st32 + 1; // c1\r\n    cache[cachePointer++] = st32 - st23; // c2\r\n    cache[cachePointer++] = st3 - 2 * st2 + st; // c3\r\n    cache[cachePointer++] = st3 - st2; // c4\r\n  }\r\n  cache[++cachePointer] = 1; // 0,1,0,0\r\n\r\n  // calc. points\r\n  for (i = 2; i < count; i += 2) {\r\n    const pt1 = pts[i];\r\n    const pt2 = pts[i + 1];\r\n    const pt3 = pts[i + 2];\r\n    const pt4 = pts[i + 3];\r\n    const t1x = (pt3 - pts[i - 2]) * tension;\r\n    const t1y = (pt4 - pts[i - 1]) * tension;\r\n    const t2x = (pts[i + 4] - pt1) * tension;\r\n    const t2y = (pts[i + 5] - pt2) * tension;\r\n\r\n    for (let t = 0; t < numOfSeg; t++) {\r\n      // t * 4;\r\n      const c = t << 2; // eslint-disable-line no-bitwise\r\n      const c1 = cache[c];\r\n      const c2 = cache[c + 1];\r\n      const c3 = cache[c + 2];\r\n      const c4 = cache[c + 3];\r\n\r\n      res[rPos++] = c1 * pt1 + c2 * pt3 + c3 * t1x + c4 * t2x;\r\n      res[rPos++] = c1 * pt2 + c2 * pt4 + c3 * t1y + c4 * t2y;\r\n    }\r\n  }\r\n\r\n  // add last point\r\n  res[rPos++] = points[points.length - 2];\r\n  res[rPos] = points[points.length - 1];\r\n\r\n  return lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default()(res, 2);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/curvePoints/1.js?");

/***/ }),

/***/ "./src/tools/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createCanvasManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/tools/createCanvasManager.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createCanvasManager\", function() { return _createCanvasManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _createDrawPixels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/tools/createDrawPixels.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createDrawPixels\", function() { return _createDrawPixels__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _createGetPath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/tools/createGetPath.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createGetPath\", function() { return _createGetPath__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _createMarkPoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/tools/createMarkPoints.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createMarkPoints\", function() { return _createMarkPoints__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _simplifyLineRDP__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/tools/simplifyLineRDP.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"simplifyLineRDP\", function() { return _simplifyLineRDP__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _curvePoints_1__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/tools/curvePoints/1.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getCurvePoints\", function() { return _curvePoints_1__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _smooth_createSmoothDraw__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/tools/smooth/createSmoothDraw.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createSmoothDraw\", function() { return _smooth_createSmoothDraw__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _smooth_performSmooth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/tools/smooth/performSmooth.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"performSmooth\", function() { return _smooth_performSmooth__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  createGetPath: _createGetPath__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\r\n  createCanvasManager: _createCanvasManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n  createMarkPoints: _createMarkPoints__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\r\n  simplifyLineRDP: _simplifyLineRDP__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\r\n  getCurvePoints: _curvePoints_1__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n  performSmooth: _smooth_performSmooth__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\r\n  createSmoothDraw: _smooth_createSmoothDraw__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\r\n  createDrawPixels: _createDrawPixels__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\r\n});\r\n\n\n//# sourceURL=webpack:///./src/tools/index.js?");

/***/ }),

/***/ "./src/tools/simplifyLineRDP.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return simplifyLineRDP; });\n/* eslint-disable no-mixed-operators */\r\n\r\nfunction getXY(p, start, end) {\r\n  const [startX, startY] = start;\r\n  const [endX, endY] = end;\r\n  const [pX, pY] = p;\r\n  const ddx = endX - startX;\r\n  const ddy = endY - startY;\r\n\r\n  if (ddx !== 0 || ddy !== 0) {\r\n    const dist = ddx * ddx + ddy * ddy;\r\n    const t = ((pX - startX) * ddx + (pY - startY) * ddy) / dist;\r\n\r\n    if (t > 1) {\r\n      return [pX - endX, pY - endY];\r\n    } else if (t > 0) {\r\n      return [pX - (startX + ddx * t), pY - (startY + ddy * t)];\r\n    }\r\n\r\n    return [pX - startX, pY - startY];\r\n  }\r\n\r\n  return [pX - startX, pY - startY];\r\n}\r\n\r\n// Line simplification based on\r\n// the Ramer–Douglas–Peucker algorithm\r\n// referance https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\r\n// points are and array of arrays consisting of [[x,y],[x,y],...,[x,y]]\r\n// minLength is in pixels and is the square of the actual distance.\r\n// returns array of points of the same form as the input argument points.\r\nfunction simplifyLineRDP(points, minLength) {\r\n  const newLine = [points[0]];\r\n\r\n  function simplify(start, end) { // recursize simplifies points from start to end\r\n    const p1 = points[start];\r\n    const p2 = points[end];\r\n    let maxDist = minLength;\r\n    let index = start + 1;\r\n\r\n    for (let i = start + 1; i < end; i++) {\r\n      const p = points[i];\r\n      const [dx, dy] = getXY(p, p1, p2);\r\n      const dist = dx * dx + dy * dy;\r\n\r\n      if (dist > maxDist) {\r\n        index = i;\r\n        maxDist = dist;\r\n      }\r\n    }\r\n\r\n    if (maxDist > minLength) { // continue simplification while maxDist > minLength\r\n      if (index - start > 1) {\r\n        simplify(start, index);\r\n      }\r\n      newLine.push(points[index]);\r\n      if (end - index > 1) {\r\n        simplify(index, end);\r\n      }\r\n    }\r\n  }\r\n\r\n  simplify(0, points.length - 1);\r\n\r\n  newLine.push(points[points.length - 1]);\r\n\r\n  return newLine;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/simplifyLineRDP.js?");

/***/ }),

/***/ "./src/tools/smooth/createSmoothDraw.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return drawSmooth; });\nconst DEFAULT_COLOR = '#00f';\r\nconst DEFAULT_WIDTH = 1;\r\n\r\nfunction drawSmooth(ctx, options = {}) {\r\n  const { color = DEFAULT_COLOR, width = DEFAULT_WIDTH } = options;\r\n\r\n  ctx.strokeStyle = color;\r\n  ctx.lineWidth = width;\r\n\r\n  return function draw(line) {\r\n    let i;\r\n    let p;\r\n    let p1;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(...line[0]);\r\n\r\n    for (i = 0; i < line.length - 1; i++) {\r\n      p = line[i];\r\n      p1 = line[i + 1];\r\n\r\n      if (p.length === 2) { // linear\r\n        ctx.lineTo(...p);\r\n      } else if (p.length === 4) { // bezier 2nd order\r\n        ctx.quadraticCurveTo(p[2], p[3], p1[0], p1[1]);\r\n      } else { // bezier 3rd order\r\n        ctx.bezierCurveTo(p[2], p[3], p[4], p[5], p1[0], p1[1]);\r\n      }\r\n      ctx.stroke();\r\n    }\r\n\r\n    if (p.length === 2) {\r\n      ctx.lineTo(...p1);\r\n    }\r\n    ctx.stroke();\r\n  };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/smooth/createSmoothDraw.js?");

/***/ }),

/***/ "./src/tools/smooth/performSmooth.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return performSmooth; });\n/* eslint-disable max-depth */\r\n/* eslint-disable max-statements */\r\n/* eslint-disable no-mixed-operators */\r\n\r\n// It creates a set of bezier control points either 2nd order or third order\r\n// bezier curves.\r\n// points: list of points\r\n// cornerThres: when to smooth corners and represents the angle between to lines.\r\n//     When the angle is smaller than the cornerThres then smooth.\r\n// match: if true then the control points will be balanced.\r\n// Function will make a copy of the points\r\n\r\n// adds bezier control points at points if lines have angle less than thres\r\nfunction performSmooth(points, cornerThres, match) {\r\n  const newPoints = []; // array for new points\r\n  const aLen = points.length;\r\n  let i;\r\n\r\n  if (aLen <= 2) { // nothing to if line too short\r\n    for (i = 0; i < aLen; i++) { // ensure that the points are copied\r\n      newPoints.push([...points[i]]);\r\n    }\r\n\r\n    return newPoints;\r\n  }\r\n\r\n  const endP = points[aLen - 1];\r\n  let [p1] = points;\r\n\r\n  i = 0; // start from second poitn if line not isClosed\r\n  let isClosed = false;\r\n\r\n  // end points are the same. Join them in coordinate space\r\n  if (Math.hypot(p1[0] - endP[0], p1[1] - endP[1]) < Math.SQRT2) {\r\n    i = 0; // start from first point if line isClosed\r\n    p1 = points[aLen - 2];\r\n    isClosed = true;\r\n  }\r\n\r\n  newPoints.push([...points[i]]);\r\n\r\n  for (; i < aLen - 1; i++) {\r\n    const p2 = points[i];\r\n    const p3 = points[i + 1];\r\n    const cx = p2[0] - p1[0];\r\n    const cy = p2[1] - p1[1];\r\n    const xx = p3[0] - p2[0];\r\n    const yy = p3[1] - p2[1];\r\n    let dist1 = Math.sqrt(cx * cx + cy * cy); // get length\r\n    const nx1 = dist1 > 0 ? cx / dist1 : 1;\r\n    const ny1 = dist1 > 0 ? cy / dist1 : 0;\r\n    let dist2 = Math.sqrt(xx * xx + yy * yy);\r\n    const nx2 = dist2 > 0 ? xx / dist2 : 1;\r\n    const ny2 = dist2 > 0 ? yy / dist2 : 0;\r\n    const angle = Math.abs(Math.acos(nx1 * nx2 + ny1 * ny2));\r\n\r\n    if (dist1 !== 0) { // dist1 and dist2 come from dot function\r\n      if (angle < cornerThres * 3.14) { // bend it if angle between lines is small\r\n        if (match) {\r\n          dist2 = dist1;\r\n          dist1 = Math.min(dist1, dist2);\r\n        }\r\n\r\n        // use the two normalized vectors along the lines to create the tangent vector\r\n        let x = (nx1 + nx2) / 2;\r\n        let y = (ny1 + ny2) / 2;\r\n        const len2 = Math.sqrt(x * x + y * y); // normalise the tangent\r\n\r\n        if (len2 === 0) {\r\n          newPoints.push([...p2]);\r\n        } else {\r\n          x /= len2;\r\n          y /= len2;\r\n          if (newPoints.length > 0) {\r\n            const np = newPoints[newPoints.length - 1];\r\n\r\n            np.push(p2[0] - x * dist1 * 0.25);\r\n            np.push(p2[1] - y * dist1 * 0.25);\r\n          }\r\n          newPoints.push([p2[0], p2[1], p2[0] + x * dist2 * 0.25, p2[1] + y * dist2 * 0.25]);\r\n        }\r\n      } else {\r\n        newPoints.push([...p2]);\r\n      }\r\n    }\r\n    p1 = p2;\r\n  }\r\n\r\n  if (isClosed) { // if isClosed then copy first point to last.\r\n    p1 = [];\r\n    for (i = 0; i < newPoints[0].length; i++) {\r\n      p1.push(newPoints[0][i]);\r\n    }\r\n    newPoints.push(p1);\r\n  } else {\r\n    newPoints.push([...points[points.length - 1]]);\r\n  }\r\n\r\n  return newPoints;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/tools/smooth/performSmooth.js?");

/***/ }),

/***/ "./src/utils/clone.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return clone; });\nfunction clone(obj) {\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\n\n//# sourceURL=webpack:///./src/utils/clone.js?");

/***/ })

/******/ });